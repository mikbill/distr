RM_MIKBILL (){
rm -Rf $dir_config $dir_base $dir_log_nginx $dir_install $dir_mikbill
}
MKDIR (){
mkdir -p $dir_config/conf.d/ssl $dir_base $dir_log_nginx $dir_install $dir_mikbill
}
WGET (){
#Nginx
wget https://raw.githubusercontent.com/mikbill/distr/master/nginx/conf.d/00_stat_zaglushka_vhost.conf -O $dir_config/conf.d/00_stat_zaglushka_vhost.conf
wget https://raw.githubusercontent.com/mikbill/distr/master/nginx/conf.d/admin_vhost.conf -O $dir_config/conf.d/admin_vhost.conf
wget https://raw.githubusercontent.com/mikbill/distr/master/nginx/conf.d/map_vhost.conf -O $dir_config/conf.d/map_vhost.conf
wget https://raw.githubusercontent.com/mikbill/distr/master/nginx/conf.d/stat_vhost.conf -O $dir_config/conf.d/stat_vhost.conf
wget https://raw.githubusercontent.com/mikbill/distr/master/nginx/conf.d/ssl/ca.crt -O $dir_config/conf.d/ssl/ca.crt
wget https://raw.githubusercontent.com/mikbill/distr/master/nginx/conf.d/ssl/ca.key -O $dir_config/conf.d/ssl/ca.key
wget https://raw.githubusercontent.com/mikbill/distr/master/nginx/nginx.conf -O $dir_config/nginx.conf
#MySQL
wget https://raw.githubusercontent.com/mikbill/distr/master/mysql/mikbill_2_0_6_utf8.sql -O $dir_install/mikbill_2_0_6_utf8.sql
wget https://raw.githubusercontent.com/mikbill/distr/master/mysql/mikbill_5.5.sql -O $dir_install/mikbill_5.5.sql 
wget https://raw.githubusercontent.com/mikbill/distr/master/mysql/my.cnf -O $dir_install/my.cnf
wget https://raw.githubusercontent.com/mikbill/distr/master/mysql/my-mikbill.cnf -O $dir_install/my-mikbill.cnf
wget https://raw.githubusercontent.com/mikbill/distr/master/mysql/base_install.sh -O $dir_install/base_install.sh
}
NGINX (){
docker rm -f nginx
mkdir -p $dir_mikbill 
mkdir -p $dir_log_nginx
docker run -p 80:80 -p 443:443 --name nginx -v $dir_config/nginx.conf:/etc/nginx/nginx.conf \
                                            -v $dir_config/conf.d:/etc/nginx/conf.d \
                                            -v $dir_mikbill:$dir_mikbill \
                                            -v $dir_log_nginx:/var/log/nginx \
                                            -v /var/run/php-worker-socket:/var/run/php-worker-socket \
                                            -d nginx
}
MYSQL (){
docker rm -f mysql
rm -Rf $dir_base
mkdir -p $dir_base
rm -f $dir_config/my.cnf
rm $dir_base/mikbill_2_0_6_utf8.sql
cp $dir_install/my.cnf $dir_config/my.cnf
cp $dir_install/mikbill_2_0_6_utf8.sql $dir_base/mikbill_2_0_6_utf8.sql 

docker run -p 3306:3306 -v $dir_config/my.cnf:/etc/mysql/conf.d/my.cnf \
                        -v $dir_base:/var/lib/mysql \
                        --name mysql -e MYSQL_ROOT_PASSWORD=$mysql_root_passwd -d mysql:5.5
sed -e "s/MIKBILLPASS/$mysql_mikbill_passwd/g" $dir_install/mikbill_5.5.sql > $dir_base/mikbill_5.5.sql

sleep 20
docker exec mysql sh -c "exec mysql -uroot -p$mysql_root_passwd < /var/lib/mysql/mikbill_5.5.sql"
docker exec mysql sh -c "exec mysql -uroot -p$mysql_root_passwd mikbill < /var/lib/mysql/mikbill_2_0_6_utf8.sql"

docker stop mysql
rm -f  $dir_config/my.cnf
cp $dir_install/my-mikbill.cnf $dir_config/my.cnf
rm -f $dir_base/ib_logfile0
rm -f $dir_base/ib_logfile1
rm -f $dir_base/ibdata1
docker start mysql
}
#MIKBILL_PHP-FPM (){

#}
#RAD_DHCP (){

#}
DOCKER_CLEAR (){
docker rm -f $(docker ps -a -q)
docker rmi -f $(docker images -q)
}
INSTALL_CLEAR (){
rm -f $dir_base/mikbill_2_0_6_utf8.sql
rm -f $dir_base/mikbill_5.5.sql
rm -Rf $dir_install
}
